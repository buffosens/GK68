webpackJsonp([13],{122:function(a,t,e){"use strict";function o(a){e(617)}Object.defineProperty(t,"__esModule",{value:!0});var r=e(579),c=e(606),s=e(26),i=o,n=s(r.a,c.a,!1,i,"data-v-ed8109a0",null);t.default=n.exports},579:function(a,t,e){"use strict";var o=e(64),r=e.n(o),c=document.getElementById("mainbox").offsetHeight,s=document.getElementById("mainbox").offsetWidth;t.a={data:function(){return{resdir:CMS.resdir,mainh:c,mainw:s,macrolist:CMS.macros,macrocatesel:0,macrosel:0,submacros:[],search:"",macro_delay_type:1,macro_delay_time:1e3,mode:"new",isrecording:!1,recordingicon:"el-icon-kb-macro-start",recordingtype:"default",newmacrocate:{Name:"",Type:1,GUID:"",Icon:"defaultcate.png",IconSrc:"macro_icon_default_folder",Data:[]},newmacro:{Name:"",Type:0,GUID:"",Icon:"default.png"},macrodata:{MacroName:"",GUID:"",TaskList:[]},dialog:{visible:!1,isshowclose:!1,title:"",content:"",dtype:0},macrodataorg:{},ismacrodatachange:!1,isMacroEditing:!1,editidx:[]}},mounted:function(){this.$refs.macrocatetable.setCurrentRow(CMS.macros[0]),this.submacros=CMS.macros[0].Data,this.handleSelectMacro(0)},destroyed:function(){var a={infos:[]};this.macrolist.forEach(function(t,e){a.infos.push({})})},computed:{lay_h_macros:function(){return this.mainh/3*2},lay_h_macro_editer:function(){return this.mainh/3*1},macroname:function(){var a=this;return a.macrolist[a.macrocatesel].Data.length>0?a.macrolist[a.macrocatesel].Data[a.macrosel].Name:a.$t("macro.macro_unselect")}},watch:{macrocatesel:function(a,t){var e=this;if(0==e.macrolist[a].Data.length)return void(e.macrodata.TaskList=[]);e.handleSelectMacro(0)},macrodata:{handler:function(a,t){if(this.isrecording){var e=this.$refs.macrodatatable.$el.querySelector(".el-table__body-wrapper");setTimeout(function(){e.scrollTop=e.scrollHeight},200)}this.isMacroEditing&&(r()(a.TaskList)==r()(this.macrodataorg.TaskList)?this.ismacrodatachange=!1:this.ismacrodatachange=!0)},deep:!0}},methods:{tableMacroRowClassName:function(a){a.row,a.rowIndex},getEditKeyIndex:function(a){var t=[];if(t.push(a),"KeyDown"==this.macrodata.TaskList[a].taskName){for(var e=a+1;e<this.macrodata.TaskList.length;e++)if(this.macrodata.TaskList[a].taskValue==this.macrodata.TaskList[e].taskValue&&this.macrodata.TaskList[a].taskName!=this.macrodata.TaskList[e].taskName){t.push(e);break}}else if("KeyUp"==this.macrodata.TaskList[a].taskName)for(var e=a-1;e>=0;e--)if(this.macrodata.TaskList[a].taskValue==this.macrodata.TaskList[e].taskValue&&this.macrodata.TaskList[a].taskName!=this.macrodata.TaskList[e].taskName){t.push(e);break}return t},editMacroItem:function(a){var t=this;this.editidx=[],this.editidx=this.getEditKeyIndex(a),window.startRecord(),window.parent.onKeyDown(function(e){e[0]&&(t.macrodata.TaskList[a].taskValue=e[0],t.macrodata.TaskList[t.editidx[1]].taskValue=e[0]),window.stopRecord(),t.editidx=[]})},formatDelay:function(a){new RegExp("^[1-9]([0-9])*$").test(a.target.value)||(a.target.value=10)},delMacroItem:function(a){var t=this;this.getEditKeyIndex(a).sort().reverse().forEach(function(a){t.macrodata.TaskList.splice(a,1)}),this.editidx=[],window.stopRecord()},initMacroData:function(){this.isrecording&&(this.isrecording=!1,this.recordingicon="el-icon-kb-macro-start",this.recordingtype="default",this.stopMacroRecord(),window.stopRecord()),this.ismacrodatachange=!1,this.isMacroEditing=!1,this.editidx=[],this.macrodataorg=JSON.parse(r()(this.macrodata))},initMacroCateSelect:function(a){this.macrocatesel=a,this.macrosel=0,this.submacros=CMS.macros[a].Data,this.$refs.macrocatetable.setCurrentRow(CMS.macros[a])},tableRowClassName:function(a){var t=a.row,e=a.rowIndex;t.index=e},handleRowChange:function(a,t,e){this.macrocatesel=a.index,this.macrosel=0,0==a.Data.length&&(a.Data=[]),this.submacros=a.Data},addMacroCate:function(){var a=this;if(a.newmacrocate.Name){for(var t=!1,e=0;e<CMS.macros.length;e++)CMS.macros[e].Name==a.newmacrocate.Name&&(t=!0);t?a.alertInfo(a.$t("macro.macro_cate_already_exist"),"warning",1e3):(a.macrolist.push(JSON.parse(r()(a.newmacrocate))),window.writeMacroList(CMS.macros,function(t){a.alertInfo(a.$t("macro.macro_cate_create")+a.newmacrocate.Name+a.$t("common.success"),"success",1e3)}),a.$nextTick(function(){a.$refs.macrocatetable.bodyWrapper.scrollTop=a.$refs.macrocatetable.bodyWrapper.scrollHeight,a.initMacroCateSelect(CMS.macros.length-1)}))}else a.alertInfo(a.$t("macro.macro_cate_name_cannot_empty"),"error",1e3)},handleCloseDialog:function(){this.dialog.visible=!1},handleConfirm:function(){var a=this;if(1==a.dialog.dtype)for(var t=0;t<CMS.macros.length;t++)if(CMS.macros[t].Name==a.macrolist[a.macrocatesel].Name){var e=0;e=t==CMS.macros.length-1?CMS.macros.length-2:t,CMS.macros.splice(t,1),window.writeMacroList(CMS.macros,function(t){a.alertInfo(a.$t("macro.macro_cate_delete")+a.macrolist[a.macrocatesel].Name+a.$t("common.success"),"success",1e3)}),a.$nextTick(function(){a.initMacroCateSelect(e)})}a.dialog.visible=!1},deleteMacroCate:function(){var a=this;a.dialog.title=a.$t("common.attention"),a.dialog.content=a.$t("macro.macro_cate_delete_confirm_info"),a.dialog.dtype=1,a.dialog.visible=!0},handleSelectMacro:function(a){var t=this;0!=t.macrolist[t.macrocatesel].Data.length&&(t.macrosel!=a&&(t.macrosel=a),window.readMacroFile(t.macrolist[t.macrocatesel].Data[t.macrosel].GUID,function(a){null===a.TaskList&&(a.TaskList=[]),t.macrodata=a,console.log("file ",t.macrodata.TaskList.length),t.initMacroData()}))},openAddMacroDialog:function(){},addMacro:function(){var a=this;a.newmacro.GUID=window.getGuid();var t={MacroName:a.newmacro.Name,GUID:a.newmacro.GUID,TaskList:[]};a.submacros.push(JSON.parse(r()(a.newmacro))),window.parent.writeMacroFile(a.newmacro.GUID,t,function(){window.parent.writeMacroList(CMS.macros,function(){a.alertInfo(a.$t("macro.macro_create")+a.$t("common.success"),"success",500)})})},copyMacro:function(){var a=this;a.newmacro.GUID=window.getGuid(),a.newmacro.Name=a.macrolist[a.macrocatesel].Data[a.macrosel].Name+a.$t("common.copy");var t={MacroName:a.macrolist[a.macrocatesel].Data[a.macrosel].Name+a.$t("common.copy"),GUID:a.newmacro.GUID,TaskList:JSON.parse(r()(a.macrodata.TaskList))};a.submacros.push(JSON.parse(r()(a.newmacro))),window.writeMacroFile(a.newmacro.GUID,t,function(){window.writeMacroList(CMS.macros,function(){a.alertInfo(a.$t("macro.macro_copy")+a.$t("common.success"),"success",500),a.handleSelectMacro(a.macrolist[a.macrocatesel].Data.length-1)})})},deleteMacro:function(){var a=this;if(0==a.macrolist[a.macrocatesel].Data.length)return void a.alertInfo(a.$t("macro.macro_no_select"),"warning",500);var t=JSON.parse(r()(a.macrolist[a.macrocatesel].Data[a.macrosel]));window.deleteMacrofile(t.GUID,function(){a.macrolist[a.macrocatesel].Data.length>1&&a.macrolist[a.macrocatesel].Data.length-1==a.macrosel?(a.macrosel-=1,a.submacros.splice(a.macrosel+1,1)):1==a.macrolist[a.macrocatesel].Data.length?(a.macrosel=0,a.submacros.splice(a.macrosel,1)):a.submacros.splice(a.macrosel,1),a.handleSelectMacro(a.macrosel),window.writeMacroList(CMS.macros,function(){a.alertInfo(a.$t("macro.macro_delete")+a.$t("common.success"),"success",500)})})},alertInfo:function(a,t,e){this.$notify({title:a,type:t,duration:e,position:"bottom-left"})},onKeyResponse:function(){var a=this;a.$t("macro.macro_left_down"),a.$t("macro.macro_left_up"),a.$t("macro.macro_right_down"),a.$t("macro.macro_right_up");window.parent.onKeyDown(function(t){var e={taskName:"KeyDown",taskValue:t[0]};switch(a.mode){case"new":a.macrodata.TaskList.push(e);break;case"edit":return a.macrodata.TaskList.push(e),!1;case"before":case"after":a.macrodata.TaskList.push(e)}}),window.parent.onKeyUp(function(t){var e={taskName:"KeyUp",taskValue:t[0]};switch(a.mode){case"new":a.macrodata.TaskList.push(e);break;case"edit":return a.macrodata.TaskList.push(e),!1;case"before":case"after":a.macrodata.TaskList.push(e)}}),window.parent.onDelay(function(t){t[0]=parseInt(t[0])<5?"5":t[0];var e={taskName:"Delay",taskValue:0};switch(1==a.macro_delay_type?e.taskValue=t[0]:2==a.macro_delay_type?e.taskValue=5:3==a.macro_delay_type&&(e.taskValue=a.macro_delay_time),a.mode){case"new":a.macrodata.TaskList.push(e);break;case"edit":return a.macrodata.TaskList.push(e),!1;case"before":case"after":a.macrodata.TaskList.push(e)}}),window.parent.onMouseDown(function(t){var e={taskName:"LeftDown",taskValue:""};if(0==t[0])switch(e.taskName="LeftDown",a.mode){case"new":a.macrodata.TaskList.push(e);break;case"edit":return a.macrodata.TaskList.push(e),!1;case"before":case"after":a.macrodata.TaskList.push(e)}else switch(e.taskName="RightDown",a.mode){case"new":a.macrodata.TaskList.push(e);break;case"edit":return a.macrodata.TaskList.push(e),!1;case"before":case"after":a.macrodata.TaskList.push(e)}}),window.parent.onMouseUp(function(t){var e={taskName:"LeftUp",taskValue:""};if(0==t[0])switch(e.taskName="LeftUp",a.mode){case"new":a.macrodata.TaskList.push(e);break;case"edit":return a.macrodata.TaskList.push(e),!1;case"before":case"after":a.macrodata.TaskList.push(e)}else switch(e.taskName="RightUp",a.mode){case"new":a.macrodata.TaskList.push(e);break;case"edit":return a.macrodata.TaskList.push(e),!1;case"before":case"after":a.macrodata.TaskList.push(e)}})},startMacroRecord:function(){var a=this;a.macrodata.TaskList&&a.macrodata.TaskList.length>0?(a.macrodata.TaskList.push(JSON.parse(r()({taskName:"Delay",taskValue:a.macro_delay_time}))),a.$confirm(a.$t("macro.macro_rerecord_confirm"),a.$t("common.attention"),{confirmButtonText:a.$t("macro.macro_continue_record"),cancelButtonText:a.$t("macro.macro_clear_record"),center:!0,type:"warning"}).then(function(){window.startRecord(),a.onKeyResponse()}).catch(function(){a.macrodata.TaskList=[],window.startRecord(),a.onKeyResponse()})):(window.startRecord(),a.onKeyResponse())},stopMacroRecord:function(){var a=this;window.stopRecord(),a.ismacrodatachange=!0},switchMacroRecord:function(){var a=this;a.isrecording?(a.isrecording=!1,a.recordingicon="el-icon-kb-macro-start",a.recordingtype="default",a.stopMacroRecord()):(a.isrecording=!0,a.recordingicon="el-icon-kb-macro-stop",a.recordingtype="success",a.isMacroEditing=!0,a.startMacroRecord())},changeMacroName:function(a){var t=this;t.macrolist[t.macrocatesel].Data[t.macrosel].Name=a,window.writeMacroList(CMS.macros,function(a){t.alertInfo(t.$t("macro.macro_rename")+t.$t("common.success"),"success",500)})},recordBtnEnter:function(a){this.isrecording&&window.parent.listenStopMakeMacro(!0)},recordBtnLeave:function(a){this.isrecording&&window.parent.listenStopMakeMacro(!1)},editMacroData:function(){this.isMacroEditing=!0},deleteMacroData:function(){},moveUpMacroData:function(a){this.$emit("up",this.index);var t=this.macrolist[a-1];Vue.set(this.macrolist,a-1,this.macrolist[a]),Vue.set(this.macrolist,a,t)},moveDownMacroData:function(){this.$emit("down",this.index);var a=this.macrolist[index+1];Vue.set(this.macrolist,index+1,this.macrolist[index]),Vue.set(this.macrolist,index,a)},insertMacroData:function(){},cancelMacroData:function(){var a=this;window.readMacroFile(a.macrodata.GUID,function(t){a.macrodata.TaskList=t.TaskList?t.TaskList:[],a.initMacroData()})},saveMacroData:function(){var a=this;window.writeMacroFile(a.macrodata.GUID,a.macrodata,function(t){a.alertInfo(a.$t("macro.macro_save")+a.$t("common.success"),"success",500),a.initMacroData()})},exportMacroFile:function(){var a=this;0!=a.macrolist[a.macrocatesel].Data.length&&(a.macrolist[a.macrocatesel].Data[a.macrosel].GUID?window.readMacroFile(a.macrolist[a.macrocatesel].Data[a.macrosel].GUID,function(t){window.exportMacro(a.macrodata,function(t){a.alertInfo(a.$t("macro.macro_export")+a.$t("common.success"),"success",500)})}):a.alertInfo(a.$t("macro.macro_export")+a.$t("common.fail"),"danger",500))},importMacroFile:function(){var a=this,t=window.getGuid();console.log(t),window.importMacro(function(e){var o=JSON.parse(e);o.GUID=t,window.writeMacroFile(o.GUID,o,function(t){a.newmacro.Name=o.MacroName,a.newmacro.GUID=o.GUID,console.log(a.newmacro),a.macrolist[a.macrocatesel].Data.push(JSON.parse(r()(a.newmacro))),window.writeMacroList(a.macrolist,function(t){a.alertInfo(a.$t("macro.macro_import")+a.$t("common.success"),"success",1e3),a.handleSelectMacro(a.macrolist[a.macrocatesel].Data.length-1)})})})}},beforeRouteEnter:function(a,t,e){console.log("Macro loading..."),CMS.isLoaded=!1,setTimeout(function(){e(function(a){console.log("Macro loaded!"),setTimeout(function(){CMS.isLoaded=!0},500)})},5)}}},595:function(a,t,e){t=a.exports=e(10)(void 0),t.push([a.i,".macro-list[data-v-ed8109a0]{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-line-pack:start;align-content:flex-start;width:100%;overflow:auto}.macro-list li[data-v-ed8109a0]{margin:1rem;width:6rem;height:6rem;font-size:1.2rem;text-align:center;color:#ababab;list-style:none}.macro-list li.select img[data-v-ed8109a0]{box-shadow:0 0 5px 5px #409eff}.macro-list li.select p[data-v-ed8109a0]{color:#00c2ff}.macro-edit-btn[data-v-ed8109a0]{padding:.4rem 0}.pop-form .el-form-item[data-v-ed8109a0]{margin:0}.macro-edit-box .macro-data-tb .el-input--mini .el-input__inner[data-v-ed8109a0]{height:20px;line-height:20px}.macro-edit-box .macro-data-tb .el-button--mini[data-v-ed8109a0]{padding:2px 4px}.el-button[data-v-ed8109a0],.el-table[data-v-ed8109a0]{color:#dbdbdb}.btn-danger[data-v-ed8109a0]{color:#f56c6c}.btn-danger .el-button[data-v-ed8109a0]{color:red}.editting[data-v-ed8109a0]{background-color:#00c2ff}",""])},606:function(a,t,e){"use strict";var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("el-row",[e("el-col",{attrs:{span:24}},[e("el-row",{style:{height:a.lay_h_macros+"px"}},[e("el-col",{attrs:{span:24}},[e("el-row",[e("el-col",{style:{height:a.lay_h_macros+"px",padding:".4rem"},attrs:{span:6}},[e("el-card",{staticStyle:{height:"100%","box-sizing":"content-box"},attrs:{shadow:"hover"}},[e("div",{attrs:{slot:"header"},slot:"header"},[e("i",{staticClass:"el-icon-kb-cate header-icon"}),a._v("\n                   \n                  "),e("span",[a._v(a._s(a.$t("macro.macro_cate")))]),a._v(" "),e("el-popover",{attrs:{effect:"dark",placement:"right",trigger:"click"}},[e("el-form",{staticClass:"pop-form",attrs:{inline:!0},nativeOn:{submit:function(a){a.preventDefault()}}},[e("el-form-item",[e("el-input",{attrs:{clearable:"",maxlength:18,placeholder:a.$t("macro.macro_package")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.addMacroCate(t)}},model:{value:a.newmacrocate.Name,callback:function(t){a.$set(a.newmacrocate,"Name",t)},expression:"newmacrocate.Name"}})],1),a._v(" "),e("el-form-item",[e("el-button",{attrs:{icon:"el-icon-plus"},on:{click:a.addMacroCate}},[a._v(a._s(a.$t("common.confirm")))])],1)],1),a._v(" "),e("span",{staticClass:"el-icon-plus",staticStyle:{float:"right",color:"#00c2ff",cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})],1)],1),a._v(" "),e("el-table",{ref:"macrocatetable",attrs:{data:a.macrolist,"show-header":!1,"highlight-current-row":"","row-class-name":a.tableRowClassName,height:a.lay_h_macros-60+"px","empty-text":a.$t("common.no_data"),"tooltip-effect":"dark"},on:{"row-click":a.handleRowChange}},[e("el-table-column",{attrs:{label:"Date",prop:"Icon",width:"60px"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("img",{staticStyle:{width:"2rem",height:"2rem"},attrs:{src:a.APPCFG.res[t.row.IconSrc]}})]}}])}),a._v(" "),e("el-table-column",{attrs:{label:"Name",prop:"Name",align:"left","show-overflow-tooltip":""},scopedSlots:a._u([{key:"default",fn:function(t){var o=(t.row,t.$index);return a._l(a.macrolist,function(t,r){return o==t.index?e("span",{key:t.index},[a._v(a._s(t.Name))]):a._e()})}}])}),a._v(" "),e("el-table-column",{attrs:{label:"操作",fixed:"right",align:"center",width:"60px"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-button",{staticStyle:{color:"red"},attrs:{icon:"el-icon-delete",type:"text"},on:{click:a.deleteMacroCate}})]}}])})],1)],1)],1),a._v(" "),e("el-col",{style:{height:a.lay_h_macros+"px",padding:".4rem 1rem"},attrs:{span:18}},[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-breadcrumb",{staticStyle:{"line-height":"28px",height:"28px"},attrs:{"separator-class":"el-icon-arrow-right"}},[e("el-breadcrumb-item",[a._v(a._s(a.$t("macro.macro_mgr")))]),a._v(" "),e("el-breadcrumb-item",{staticStyle:{color:"#00c2ff"}},[a._v(a._s(a.macrolist[a.macrocatesel].Name))])],1)],1),a._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticStyle:{float:"right"}},[e("el-popover",{staticStyle:{"margin-right":"10px"},attrs:{placement:"left",trigger:"click"}},[e("el-form",{staticClass:"pop-form",attrs:{inline:!0},nativeOn:{submit:function(a){a.preventDefault()}}},[e("el-form-item",[e("el-input",{attrs:{clearable:"",autofocus:"true",maxlength:12,placeholder:a.$t("macro.macro_item")},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.addMacro(t)}},model:{value:a.newmacro.Name,callback:function(t){a.$set(a.newmacro,"Name",t)},expression:"newmacro.Name"}})],1),a._v(" "),e("el-form-item",[e("el-button",{attrs:{icon:"el-icon-plus"},on:{click:a.addMacro}},[a._v(a._s(a.$t("common.confirm")))])],1)],1),a._v(" "),e("el-button",{attrs:{slot:"reference",icon:"el-icon-plus"},slot:"reference"})],1),a._v(" "),e("el-button",{attrs:{icon:"el-icon-kb-copy"},on:{click:a.copyMacro}}),a._v(" "),e("el-button",{attrs:{icon:"el-icon-delete",type:"danger"},on:{click:a.deleteMacro}}),a._v(" "),e("el-button",{attrs:{icon:"el-icon-upload2"},on:{click:a.importMacroFile}}),a._v(" "),e("el-button",{attrs:{icon:"el-icon-download"},on:{click:a.exportMacroFile}})],1)])],1),a._v(" "),e("el-row",[e("el-col",{attrs:{span:24}},[e("ul",{staticClass:"macro-list",style:{height:a.lay_h_macros-60+"px"}},a._l(a.submacros,function(t,o){return e("li",{key:t.index,class:{select:t.GUID==a.macrolist[a.macrocatesel].Data[a.macrosel].GUID},attrs:{"data-guid":t.GUID},on:{click:function(t){return a.handleSelectMacro(o)}}},[e("img",{attrs:{src:a.APPCFG.res.macro_icon_default}}),a._v(" "),e("p",[a._v(a._s(t.Name))])])}),0)])],1)],1)],1)],1)],1),a._v(" "),e("el-row",{staticClass:"macro-edit-box",style:{height:a.lay_h_macro_editer+"px",background:"rgba(20,20,20,.8)",padding:".4rem 1rem"}},[e("el-col",{attrs:{span:6}},[e("el-row",[e("el-form",{attrs:{"label-position":"top"}},[e("el-form-item",{attrs:{label:a.$t("macro.macro_name")}},[e("el-input",{staticStyle:{width:"80%"},on:{change:a.changeMacroName},model:{value:a.macroname,callback:function(t){a.macroname=t},expression:"macroname"}})],1),a._v(" "),e("el-form-item",{attrs:{label:a.$t("macro.macro_delay_mode")}},[e("el-radio",{attrs:{label:1},model:{value:a.macro_delay_type,callback:function(t){a.macro_delay_type=t},expression:"macro_delay_type"}},[a._v(a._s(a.$t("macro.macro_delay_record_time")))]),a._v(" "),e("br"),a._v(" "),e("el-radio",{attrs:{label:2},model:{value:a.macro_delay_type,callback:function(t){a.macro_delay_type=t},expression:"macro_delay_type"}},[a._v(a._s(a.$t("macro.macro_delay_mini_time")))]),a._v(" "),e("br"),a._v(" "),e("el-radio",{attrs:{label:3},model:{value:a.macro_delay_type,callback:function(t){a.macro_delay_type=t},expression:"macro_delay_type"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.macro_delay_time,expression:"macro_delay_time"}],staticClass:"edit-cell mini",domProps:{value:a.macro_delay_time},on:{input:function(t){t.target.composing||(a.macro_delay_time=t.target.value)}}}),a._v("\n                  "+a._s(a.$t("macro.macro_delay_n_time"))+"\n                ")])],1)],1)],1)],1),a._v(" "),e("el-col",{staticStyle:{background:"#151515","text-align":"center",height:"100%"},attrs:{span:2,direction:"horizontal"}},[e("el-row",{staticClass:"macro-edit-btn",style:{height:a.lay_h_macro_editer/6-5+"px"}},[e("el-tooltip",{attrs:{effect:"dark",placement:"left",content:a.isrecording?a.$t("macro.macro_record_stop"):a.$t("macro.macro_record")}},[e("el-button",{attrs:{icon:a.recordingicon,type:a.recordingtype,onfocus:"this.blur()"},on:{click:a.switchMacroRecord},nativeOn:{mouseenter:function(t){return a.recordBtnEnter(t)},mouseleave:function(t){return a.recordBtnLeave(t)}}})],1)],1),a._v(" "),e("el-row",{class:{"macro-edit-btn":!0,"btn-danger":a.isMacroEditing},style:{height:a.lay_h_macro_editer/6+"px"}},[e("el-tooltip",{attrs:{effect:"dark",placement:"left",content:a.$t("macro.macro_edit")}},[e("el-button",{attrs:{icon:"el-icon-kb-macro-edit"},on:{click:a.editMacroData}})],1)],1),a._v(" "),e("el-row",{staticClass:"macro-edit-btn",style:{height:a.lay_h_macro_editer/6-5+"px"}},[e("el-tooltip",{attrs:{effect:"dark",placement:"left",content:a.$t("macro.macro_save")}},[e("el-button",{class:{"btn-breath":a.ismacrodatachange&&!a.isrecording},attrs:{icon:"el-icon-check",disabled:!a.isMacroEditing||a.isrecording},on:{click:a.saveMacroData}})],1)],1),a._v(" "),e("el-row",{staticClass:"macro-edit-btn",style:{height:a.lay_h_macro_editer/6-5+"px"}},[e("el-tooltip",{attrs:{effect:"dark",placement:"left",content:a.$t("macro.macro_revoke")}},[e("el-button",{attrs:{icon:"el-icon-back"},on:{click:a.cancelMacroData}})],1)],1)],1),a._v(" "),e("el-col",{attrs:{span:16}},[e("el-row",[e("el-table",{ref:"macrodatatable",staticClass:"macro-data-tb",attrs:{data:a.macrodata.TaskList,"show-header":!1,"row-class-name":a.tableMacroRowClassName,"highlight-current-row":"",height:a.lay_h_macro_editer-20+"px","empty-text":a.$t("common.no_data")}},[e("el-table-column",{attrs:{label:"Type",prop:"taskName",width:"40"},scopedSlots:a._u([{key:"default",fn:function(t){return["KeyUp"==t.row.taskName?e("i",{staticClass:"el-icon-kb-keyup"}):a._e(),a._v(" "),"KeyDown"==t.row.taskName?e("i",{staticClass:"el-icon-kb-keydown"}):a._e(),a._v(" "),"LeftUp"==t.row.taskName||"LeftDown"==t.row.taskName?e("i",{staticClass:"el-icon-kb-mouse-left"}):a._e(),a._v(" "),"RightUp"==t.row.taskName||"RightDown"==t.row.taskName?e("i",{staticClass:"el-icon-kb-mouse-right"}):a._e(),a._v(" "),"MiddleClick"==t.row.taskName?e("i",{staticClass:"el-icon-kb-key-mouse-mid"}):a._e(),a._v(" "),"Delay"==t.row.taskName?e("i",{staticClass:"el-icon-kb-delay"}):a._e()]}}])}),a._v(" "),e("el-table-column",{attrs:{label:"Name",prop:"taskValue",width:"160"},scopedSlots:a._u([{key:"default",fn:function(t){return[""==t.row.taskValue&&"Delay"!=t.row.taskName?e("p",[a._v(a._s(t.row.taskName))]):"Delay"==t.row.taskName?e("p",[a.isMacroEditing?e("el-input",{staticStyle:{width:"80px"},nativeOn:{keyup:function(t){return a.formatDelay(t)}},model:{value:t.row.taskValue,callback:function(e){a.$set(t.row,"taskValue",e)},expression:"scope.row.taskValue"}}):e("span",[a._v(a._s(t.row.taskValue))]),a._v(" ms\n                  ")],1):e("span",{class:{editting:a.editidx.indexOf(t.$index)>-1}},[a._v(a._s(t.row.taskValue))])]}}])}),a._v(" "),a.isMacroEditing?e("el-table-column",{attrs:{label:"Name",prop:"taskValue"},scopedSlots:a._u([{key:"default",fn:function(t){return[e("el-button",{staticClass:"btn-danger",attrs:{type:"text",icon:"el-icon-delete",size:"mini"},on:{click:function(e){return a.delMacroItem(t.$index)}}}),a._v(" "),"Delay"!=t.row.taskName&&""!=t.row.taskValue?e("el-button",{staticStyle:{color:"#00c2ff"},attrs:{type:"text",icon:"el-icon-edit",size:"mini"},on:{click:function(e){return a.editMacroItem(t.$index)}}}):a._e()]}}],null,!1,2453753638)}):a._e(),a._v(" "),e("el-table-column",{attrs:{label:"Name"}})],1)],1)],1)],1)],1),a._v(" "),e("el-dialog",{attrs:{visible:a.dialog.visible,width:"30%","show-close":a.dialog.isshowclose,"before-close":a.handleCloseDialog,center:""},on:{"update:visible":function(t){return a.$set(a.dialog,"visible",t)}}},[e("p",{attrs:{slot:"title"},slot:"title"},[e("i",{staticClass:"el-icon-warning"}),a._v("\n        "+a._s(a.dialog.title)+"\n      ")]),a._v(" "),e("span",[a._v(a._s(a.dialog.content))]),a._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{icon:"el-icon-back"},on:{click:function(t){a.dialog.visible=!1}}},[a._v(a._s(a.$t("common.cancel")))]),a._v(" "),e("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:a.handleConfirm}},[a._v(a._s(a.$t("common.confirm")))])],1)])],1)},r=[],c={render:o,staticRenderFns:r};t.a=c},617:function(a,t,e){var o=e(595);"string"==typeof o&&(o=[[a.i,o,""]]),o.locals&&(a.exports=o.locals);e(18)("dfae43de",o,!0,{})}});